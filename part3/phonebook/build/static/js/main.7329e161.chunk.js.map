{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","newSearch","handleSearchChange","value","onChange","Notification","message","styleClass","className","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","handleDeletePerson","map","person","name","number","data-id","id","data-name","onClick","filter","toLowerCase","includes","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","successMessage","setSuccessMessage","showNotification","setShowNotification","setStyleClass","useEffect","personService","event","target","console","log","preventDefault","personObject","window","confirm","_id","returnedPerson","setTimeout","parseInt","attributes","_name","res","n","catch","err","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7329e161.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ newSearch, handleSearchChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input\r\n        value={newSearch}\r\n        onChange={handleSearchChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst Notification = ({ message, styleClass }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={styleClass}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  addName,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange\r\n}) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={addName}>\r\n        <div>\r\n          name:\r\n          <input\r\n            value={newName}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>number:\r\n          <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Persons = ({ newSearch, persons, handleDeletePerson }) => {\r\n  return (\r\n    <>\r\n      <ul>\r\n        {\r\n          (newSearch === '') ?\r\n            persons.map(person =>\r\n              <li key={person.id}>{person.name} {person.number}\r\n                <button\r\n                  data-id={person.id}\r\n                  data-name={person.name}\r\n                  onClick={handleDeletePerson}\r\n                >delete</button>\r\n              </li>\r\n            ) :\r\n            persons\r\n              .filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\r\n              .map(person =>\r\n                <li key={person.id}>{person.name} {person.number}\r\n                  <button\r\n                    data-id={person.id}\r\n                    data-name={person.name}\r\n                    onClick={handleDeletePerson}\r\n                  >delete</button>\r\n                </li>\r\n              )\r\n        }\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default { getAll, create, update, remove }\r\n","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n  const [successMessage, setSuccessMessage] = useState('some error happened...')\r\n  const [showNotification, setShowNotification] = useState(false)\r\n  const [styleClass, setStyleClass] = useState('')\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(persons => {\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = (event) => {\r\n    setNewSearch(event.target.value)\r\n    console.log(persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase())))\r\n  }\r\n\r\n  const handleDeletePerson = (event) => {\r\n\r\n    const _id = parseInt(event.target.attributes['data-id'].value);\r\n    const _name = event.target.attributes['data-name'].value;\r\n\r\n    event.preventDefault();\r\n    if (window.confirm(`Delete ${event.target.attributes['data-name'].value}`)) {\r\n      personService\r\n        .remove(_id)\r\n        .then(res => {\r\n          // delete from list\r\n          setPersons(persons.filter(n => n.id !== _id))\r\n        })\r\n        .catch(err => {\r\n          // trigger notification\r\n          setSuccessMessage(`Information of ${_name} has alread been removed from server`)\r\n          setStyleClass(`error`)\r\n          setShowNotification(true)\r\n\r\n          // reset notification\r\n          setTimeout(() => {\r\n            setShowNotification(false)\r\n          }, 2000);\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    // check if name already exists\r\n    if (persons.filter(person => person.name === newName)[0]) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const _id = persons.filter(person => person.name === newName)[0].id;\r\n        personService\r\n          .update(_id, personObject)\r\n          .then(returnedPerson => {\r\n            // update list\r\n            setPersons(persons.map(person => person.id !== _id ? person : returnedPerson))\r\n\r\n            // reset fields\r\n            setNewName('')\r\n            setNewNumber('')\r\n\r\n            // trigger notification\r\n            setSuccessMessage(`Updated ${newName}'s phone number`)\r\n            setStyleClass(`success`)\r\n            setShowNotification(true)\r\n\r\n            // reset notification\r\n            setTimeout(() => {\r\n              setShowNotification(false)\r\n            }, 2000);\r\n          })\r\n      }\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          // add to list\r\n          setPersons(returnedPerson)\r\n\r\n          // reset fields\r\n          setNewName('')\r\n          setNewNumber('')\r\n\r\n          // trigger notification\r\n          setSuccessMessage(`Added ${newName}`)\r\n          setStyleClass(`success`)\r\n          setShowNotification(true)\r\n\r\n          // reset notification\r\n          setTimeout(() => {\r\n            setShowNotification(false)\r\n          }, 2000);\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      {\r\n        showNotification &&\r\n        <Notification message={successMessage} styleClass={styleClass} />\r\n      }\r\n      <Filter\r\n        newSearch={newSearch}\r\n        handleSearchChange={handleSearchChange}\r\n      />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={persons}\r\n        newSearch={newSearch}\r\n        handleDeletePerson={handleDeletePerson}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}